---
nav:
  title: 命令行工具
  order: 1

group:
  title: corepack的使用

toc: content
tocDepth: 3
---

# corepack 的使用

corepack 是 node 16.13 版本后推出用于管理包管理器的工具，支持 pnpm 和 yarn

升级到node20版本后，corepack的功能才比较完整（能使用corepack use，18.18版本是不支持的）。
## 开启 corepack

corepack 是一个实验性特性，默认是不开启的.
 执行下面的命令开启 

```
corepack enable
```

执行下面的命令关闭

```
corepack disable
```

单独设置 npm 的开启和关闭

```
corepack enable npm
corepack disable npm
```

## 切换项目包管理器


本来可以使用下面的命令，但是升级到node20以后，文档中推荐的是use命令

```
corepack prepare pnpm@<version> --activate
```



使用corepack use 下载最新版本的包管理器，同时会修改package.json中packageManager字段  
corepack use 比prepare好用多了，比较接近nvm的使用方法

```
#使用8.x的最新版
corepack use pnpm@8.x
#使用最新版
corepack use pnpm@*
```

## 切换全局包管理器

```
corepack install --global yarn@x.y.z
corepack install --global pnpm@*
corepack install --global yarn@stable
```
