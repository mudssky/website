"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["1672"],{9788:function(n,e,r){r.r(e),r.d(e,{metadata:()=>t,default:()=>h,frontMatter:()=>l,contentTitle:()=>u,toc:()=>p,assets:()=>o});var t=JSON.parse('{"id":"snippets/JavaScript/jsutil","title":"jsutils \u5C01\u88C5","description":"lodash \u662F\u5F88\u5E38\u7528\u7684 js \u901A\u7528\u64CD\u4F5C\u7684\u4E00\u4E2A\u5E93\u3002","source":"@site/docs/snippets/JavaScript/jsutil.mdx","sourceDirName":"snippets/JavaScript","slug":"/snippets/JavaScript/jsutil","permalink":"/website/docs/snippets/JavaScript/jsutil","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"snippetsSidebar","previous":{"title":"\u679A\u4E3E\u7C7B","permalink":"/website/docs/snippets/JavaScript/enumArray"},"next":{"title":"request \u5C01\u88C5","permalink":"/website/docs/snippets/JavaScript/request"}}'),a=r(7259),i=r(8682),s=r(8557);let l={},u="jsutils \u5C01\u88C5",o={},p=[{value:"\u6570\u7EC4",id:"\u6570\u7EC4",level:2}];function d(n){let e={h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",...(0,i.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"jsutils-\u5C01\u88C5",children:"jsutils \u5C01\u88C5"})}),"\n",(0,a.jsx)(e.p,{children:"lodash \u662F\u5F88\u5E38\u7528\u7684 js \u901A\u7528\u64CD\u4F5C\u7684\u4E00\u4E2A\u5E93\u3002"}),"\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsx)(e.li,{children:"\u4F46\u662F\u4E00\u4E9B\u51FD\u6570\u6211\u4EEC\u65E5\u5E38\u4F7F\u7528\u5230\uFF0C\u4F46\u662F lodash \u91CC\u9762\u6CA1\u6709\uFF0C\u6240\u4EE5\u6211\u4EEC\u53EF\u4EE5\u5C01\u88C5\u3002"}),"\n",(0,a.jsx)(e.li,{children:"JavaScript \u4E00\u4E9B\u65B0\u7279\u6027\uFF0C\u6BD4\u8F83\u5B9E\u7528\uFF0C\u4F46\u662F\u56E0\u4E3A\u9879\u76EE\u6846\u67B6\u6BD4\u8F83\u8001\uFF0C\u6211\u4EEC\u5728\u9879\u76EE\u91CC\u9762\u7528\u4E0D\u4E86\uFF0C\u6240\u4EE5\u81EA\u5DF1\u5C01\u88C5\u4E00\u4E0B\u5C31\u80FD\u63D0\u524D\u5B9E\u7528\u4E86\u3002"}),"\n",(0,a.jsx)(e.li,{children:"\u8FD8\u6709\u6211\u4EEC\u4E0D\u6B62\u5B66\u4E60\u4E00\u79CD\u7F16\u7A0B\u8BED\u8A00\u3002\u5176\u4ED6\u8BED\u8A00\u91CC\u9762\u6BD4\u8F83\u65B9\u4FBF\u7684\u64CD\u4F5C\uFF0C\u53EF\u4EE5\u8003\u8651\u642C\u5230 js \u91CC\u9762\u6765\u3002"}),"\n"]}),"\n","\n",(0,a.jsx)(e.h2,{id:"\u6570\u7EC4",children:"\u6570\u7EC4"}),"\n","\n",(0,a.jsx)(s.A,{language:"ts",children:"/**\n * es2016 at \u65B9\u6CD5\u5B9E\u73B0\n * @param arr\n * @param n\n * @returns\n */\nexport function at<T = any>(arr: Array<T>, n: number) {\n  let index = Math.trunc(n) || 0\n\n  // \u5982\u679C\u7D22\u5F15\u4E3A\u8D1F\u6570\uFF0C\u5219\u4ECE\u6570\u7EC4\u672B\u5C3E\u5F00\u59CB\u8BA1\u7B97\n  if (index < 0) {\n    index += arr.length\n  }\n  // \u68C0\u67E5\u7D22\u5F15\u662F\u5426\u8D8A\u754C\n  if (index < 0 || index >= arr.length) {\n    return undefined\n  }\n  return arr[index]\n}\n\n/**\n * \u5C01\u88C5\u53EF\u9009\u94FE\u548C\u7A7A\u503C\u5408\u5E76\u7B49\u64CD\u4F5C\n * \u5176\u5B9E\u53EF\u9009\u94FE\u51FA\u6765\u4E4B\u524D\uFF0C\u7C7B\u4F3C\u7684\u9700\u6C42\u7528\u7684\u662F\u77ED\u8DEF\u8FD0\u7B97\u7B26&&\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u7684\u95EE\u9898\u662F\u5197\u4F59\u4EE3\u7801\u592A\u591A\u3002\n */\nexport class OptionalChain {\n  private obj\n  constructor(value: any) {\n    this.obj = value\n  }\n  get(property: string) {\n    if (this.obj == null || this.obj == undefined) {\n      return new OptionalChain(undefined)\n    }\n    const value = this.obj[property]\n    return new OptionalChain(value)\n  }\n  call(method, ...args) {\n    if (this.obj == null) {\n      return new OptionalChain(undefined)\n    }\n    const value = this.obj[method]?.(...args)\n    return new OptionalChain(value)\n  }\n  value() {\n    return this.obj\n  }\n\n  /**\n   * ?? \u63A7\u5236\u5408\u5E76\u8FD0\u7B97\u7B26\u7684\u6A21\u62DF\n   * @param defaultValue\n   * @returns\n   */\n  valueOnDefault(defaultValue: any) {\n    if (this.obj === undefined || this.obj === null) {\n      return defaultValue\n    }\n    return this.obj\n  }\n}\n/**\n * \u53EF\u9009\u94FE\u5DE5\u5382\u51FD\u6570\n * @param value\n * @returns\n */\nexport function createOptionalChain(value: any) {\n  return new OptionalChain(value)\n}\n\n/**\n * python\u4E2D\u7684range\u51FD\u6570\n * @param start\n * @param end\n * @param step\n * @returns\n */\nexport function range(start: number, end?: number, step = 1) {\n  return Array.from(rangeIter(start, end, step))\n}\n/**\n * python\u4E2D\u7684range \u8FED\u4EE3\u5668\u5B9E\u73B0\n * @param start\n * @param end\n * @param step\n */\nexport function* rangeIter(start: number, end?: number, step = 1) {\n  if (typeof end === 'undefined') {\n    end = start\n    start = 0\n  }\n\n  // \u8FDB\u884C\u53C2\u6570\u68C0\u67E5\n  if (step === 0) {\n    throw new Error('step can not be zero')\n  }\n\n  if (\n    !(\n      Number.isInteger(start) &&\n      Number.isInteger(end) &&\n      Number.isInteger(step)\n    )\n  ) {\n    throw new Error('unsupport decimal number')\n  }\n  if (step > 0) {\n    for (let i = start; i < end; i += step) {\n      yield i\n    }\n  } else {\n    for (let i = start; i > end; i += step) {\n      yield i\n    }\n  }\n}\n\n/**\n * \u4E8C\u5206\u67E5\u627E\u8BA1\u7B97\u63D2\u5165\u70B9\uFF0C\u627E\u5230\u7B2C\u4E00\u4E2A\u7B49\u4E8E\u76EE\u6807\u503C\u6216\u8005\u5DE6\u8FB9\u7684\u4F4D\u7F6E\n * @param arr \u5347\u5E8F\u6709\u5E8F\u5217\u8868\n * @param val\n * @returns\n */\nexport function bisectLeft(arr: number[], val: number) {\n  let low = 0\n  let high = arr.length\n\n  while (low < high) {\n    const mid = Math.floor((low + high) / 2)\n    // \u8FD9\u6837\u5F97\u51FA\u7684low\u6700\u5927\u503C\u5C31\u662Fval,\u4E0D\u4F1A\u8D85\u8FC7val\n    if (val > arr[mid]) {\n      low = mid + 1\n    } else {\n      high = mid\n    }\n  }\n\n  return low\n}\n\n/**\n * \u4E8C\u5206\u67E5\u627E\u8BA1\u7B97\u63D2\u5165\u70B9 \u627E\u5230\u7B2C\u4E00\u4E2A\u5927\u4E8E\u76EE\u6807\u503C\u7684\u4F4D\u7F6E\n * @param arr \u5347\u5E8F\u6570\u7EC4\n * @param val\n * @returns\n */\nexport function bisectRight(arr: number[], val: number) {\n  // bisectRight\u7684\u63D2\u5165\u70B9\u4F4D\u4E8EbisectLeft\u7684\u53F3\u4FA7\n  let index = bisectLeft(arr, val)\n  // console.log({ index, val })\n  if (val >= arr[index]) {\n    return index + 1\n  }\n\n  return index\n}\n\n/**\n * \u548Cbisect right\u4E00\u6837\uFF0C\u8FD4\u56DE\u5927\u4E8Eval\u7684\u7B2C\u4E00\u4E2A\u4E0B\u6807\n * \u5728python\u4E2D\u53EF\u7528\u4E8E\u6570\u5B57\u8868\u67E5\u627E\n * def grade(score, breakpoints=[60, 70, 80, 90], grades='FDCBA'):\n    i = bisect(breakpoints, score)\n    return grades[i]\n * @param arr\n * @param val\n * @returns\n */\nexport function bisect(arr: number[], val: number): number {\n  return bisectRight(arr, val)\n}\n"})]})}function h(n={}){let{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(d,{...n})}):d(n)}}}]);