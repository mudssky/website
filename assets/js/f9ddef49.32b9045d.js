"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["8477"],{9873:function(e,n,t){t.r(n),t.d(n,{metadata:()=>a,default:()=>b,frontMatter:()=>i,contentTitle:()=>u,toc:()=>m,assets:()=>p});var a=JSON.parse('{"id":"snippets/JavaScript/enumArray","title":"\u679A\u4E3E\u7C7B","description":"\u4F7F\u7528\u6570\u7EC4\u5C06\u679A\u4E3E\u72B6\u6001\u4FE1\u606F\u4FDD\u5B58\u8D77\u6765","source":"@site/docs/snippets/JavaScript/enumArray.mdx","sourceDirName":"snippets/JavaScript","slug":"/snippets/JavaScript/enumArray","permalink":"/website/docs/snippets/JavaScript/enumArray","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"nav":{"title":"\u4EE3\u7801\u7247\u6BB5","order":1},"group":{"title":"\u5B9E\u7528\u7C7B\u5C01\u88C5","order":1},"toc":"content","tocDepth":3},"sidebar":"snippetsSidebar","next":{"title":"jsutils \u5C01\u88C5","permalink":"/website/docs/snippets/JavaScript/jsutil"}}'),r=t(7259),l=t(8682),s=t(8557);let i={nav:{title:"\u4EE3\u7801\u7247\u6BB5",order:1},group:{title:"\u5B9E\u7528\u7C7B\u5C01\u88C5",order:1},toc:"content",tocDepth:3},u="\u679A\u4E3E\u7C7B",p={},m=[];function o(e){let n={h1:"h1",header:"header",p:"p",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u679A\u4E3E\u7C7B",children:"\u679A\u4E3E\u7C7B"})}),"\n",(0,r.jsx)(n.p,{children:"\u4F7F\u7528\u6570\u7EC4\u5C06\u679A\u4E3E\u72B6\u6001\u4FE1\u606F\u4FDD\u5B58\u8D77\u6765\nlabel \u662F\u4E2D\u6587\u503C\uFF0Cvalue \u662F\u540E\u7AEF\u4FDD\u5B58\u548C\u5B9E\u9645\u4F7F\u7528\u7684\u503C"}),"\n","\n",(0,r.jsx)(s.A,{language:"ts",children:"// \u679A\u4E3E\u7C7B\u578B\u63A5\u53E3\nexport interface EnumArrayObj {\n  value: number | string\n  label: string //\u4E2D\u6587key\uFF0C\u65B9\u4FBF\u9605\u8BFB\n  displayText?: string //\u5C55\u793A\u7684\u6587\u5B57,\u53EA\u6709\u548Clabel\u4E0D\u540C\u7684\u65F6\u5019\u4F7F\u7528\uFF0C\n}\n\nexport type ValueOf<T extends readonly EnumArrayObj[]> = T[number]['value']\nexport type LabelOf<T extends readonly EnumArrayObj[]> = T[number]['label']\ntype ItemOf<T extends readonly EnumArrayObj[]> = {\n  value: ValueOf<T>\n  label: LabelOf<T>\n  displayText?: string\n}\n/**\n * \u679A\u4E3E\u6570\u7EC4\u7C7B\uFF0C\u7EE7\u627F\u4E86Array\n */\nexport class EnumArray<\n  T extends readonly EnumArrayObj[],\n> extends Array<EnumArrayObj> {\n  private readonly kvMap = new Map<string, ValueOf<T>>()\n  private readonly vkMap = new Map<string, LabelOf<T>>()\n  constructor(list: T) {\n    super(list.length)\n    for (let i = 0; i < list.length; i++) {\n      const item = list[i]\n      this[i] = item\n      this.kvMap.set(item.label, item.value)\n      this.vkMap.set(item.value + '', item.label)\n    }\n  }\n\n  getLabelByValue(value: ValueOf<T>) {\n    return this.vkMap.get(value + '')\n  }\n\n  getValueByLabel(label: LabelOf<T>) {\n    return this.kvMap.get(label)\n  }\n  getItemByLabel(label: LabelOf<T>): ItemOf<T> | undefined {\n    return this.find((item) => {\n      return item.label === label\n    })\n  }\n  getItemByValue(value: ValueOf<T>): ItemOf<T> | undefined {\n    return this.find((item) => {\n      return item.value === value\n    })\n  }\n  getDisplayTextByLabel(label: LabelOf<T>) {\n    const item = this.getItemByLabel(label)\n    return item?.displayText ?? label\n  }\n  getDisplayTextByValue(value: ValueOf<T>) {\n    const item = this.getItemByValue(value)\n    return item?.displayText ?? item?.label\n  }\n}\nexport function createEnum<T extends readonly EnumArrayObj[]>(enums: T) {\n  return Object.freeze(new EnumArray(enums)) // \u9700\u8981\u5347\u7EA7\u5230typescript4.9\u624D\u4E0D\u4F1A\u62A5\u9519\n  // return new EnumArray(enums)\n}\n\n// const sexList = [\n//   {\n//     label: '\u7537',\n//     value: 1,\n//   },\n//   {\n//     label: '\u5973',\n//     value: 2,\n//   },\n// ] as const\n// const sexEnum = createEnum(sexList)\n\n// export type ll = LabelOf<typeof sexList>\n// sexEnum.getValueByLabel('\u5973')\n"})]})}function b(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);